<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play Store - Top Games</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="manifest" href="/manifest.json">
    <link rel="stylesheet" href="/style.css">
   
</head>
<body>
    <div class="header">
        <div class="header-title">Play Store</div>
        <div>
            <i class="fas fa-search search-icon"></i>
            <i class="fas fa-user-circle profile-icon"></i>
        </div>
    </div>

    <div class="app-container">
        <div class="app-header">
            <h1 class="app-title">Top Games <i class="fas fa-check-circle verified-icon"></i></h1>
            <div class="app-category">Games • Contains ads • In-app purchases</div>
            <div class="developer">Axios Tech Ltd.</div>
            <div class="play-protect"><i class="fas fa-shield-alt"></i> Verified by Play Protect</div>
            <div class="app-meta">
                <div class="rating-container">
                    <div class="stars">★★★★★</div>
                    <div class="rating-value">4.8</div>
                    <div class="reviews-count">342K reviews</div>
                </div>
                <div class="downloads">2M+ Downloads</div>
            </div>
            <div class="age-rating">Rated for 18+</div>
            <img src="/assets/image/logo_topg.jpg" alt="App Icon" class="app-icon">
        </div>

        <div class="action-buttons">
            <button class="install-button" id="installButton">
                <i class="fas fa-download"></i> Install
            </button>
            <button class="share-button" title="Share">
                <i class="fas fa-share-alt"></i>
            </button>
            <button class="wishlist-button" title="Add to wishlist">
                <i class="far fa-bookmark"></i>
            </button>
        </div>

        <div class="screenshots">
            <div class="section-title">Screenshots</div>
            <div class="screenshot-container">
                <img src="/assets/image/screen_shot1.jpg" alt="Screenshot 1" class="screenshot">
                <img src="/assets/image/screen_shot2.jpg" alt="Screenshot 2" class="screenshot">
                <img src="/assets/image/screen_shot3.jpg" alt="Screenshot 3" class="screenshot">
                <img src="/assets/image/screen_shot4.jpg" alt="Screenshot 4" class="screenshot">
            </div>
        </div>

        <div class="data-safety">
            <div class="data-safety-header">
                <div class="section-title">Data safety</div>
                <a href="#" class="data-safety-link">Details</a>
            </div>
            <div class="data-safety-text">
                Safety starts with understanding how developers collect and share your data. Data privacy and security practices may vary based on your use, region, and age. The developer provided this information and may update it over time.
            </div>
        </div>

        <div class="about-section">
            <div class="section-title">About this game</div>
            <div class="description">
                Top Games is your ultimate gaming destination with a collection of the most popular games. Enjoy a variety of genres and compete with players worldwide. Contains in-app purchases and advertisements.
            </div>
            
            <div class="additional-info">
                <div class="info-row">
                    <div class="info-label">Updated</div>
                    <div class="info-value">February, 2025</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Size</div>
                    <div class="info-value">3.5MB</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Installs</div>
                    <div class="info-value">2,000,000+</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Current Version</div>
                    <div class="info-value">2.4.1</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Requires Android</div>
                    <div class="info-value">8.0 and up</div>
                </div>
                <div class="info-row">
                    <div class="info-label">Content Rating</div>
                    <div class="info-value">Rated for 18+</div>
                </div>
            </div>
        </div>

       
    <div class="reviews-section">
        <div class="section-title">Ratings and reviews</div>
        <div class="review">
            <div class="reviewer-avatar" style="background-image: url('profile-pic.jpg');"></div>
            <div class="review-content">
                <div class="review-header">
                    <div class="reviewer-name">Anonymous </div>
                    <div class="stars">★★★★★</div>
                    <div class="review-date">04.01.2025</div>
                </div>
                <div class="review-text">
                    Amazing collection of games! I love playing these every day.Please add more games like aviator Thanks
                </div>
            </div>
        </div>
        <div class="review">
            <div class="reviewer-avatar" style="background-image: url('/assets/image/profile_pic1.jpg');"></div>
            <div class="review-content">
                <div class="review-header">
                    <div class="reviewer-name">Sentayehu Gelan</div>
                    <div class="stars">★★★★☆</div>
                    <div class="review-date">15.01.2025</div>
                </div>
                <div class="review-text">
                    Kuufama koo isa jalqabaa godhee amma bonasii argadheera. Galatoomaa. Taphoota kanaan gammadaa jira. Jabaadhuu itti fufi.
                </div>
            </div>
        </div>

        <div class="review">
            <div class="reviewer-avatar" style="background-image: url('/assets/image/profile_pic3.jpg');"></div>
            <div class="review-content">
                <div class="review-header">
                    <div class="reviewer-name">Eyob Tadesse</div>
                    <div class="stars">★★★★☆</div>
                    <div class="review-date">18.01.2025</div>
                </div>
                <div class="review-text">
                    በጣም በብዙ እጥፍ ይሄንን ጌም ተጠቅሜበታለው በትንሽ ብር ምርጥ ብር ሰራሁበት ድንቅ ጨዋታዎች ናቸው። አንድ ነገር የገንዘብ ዲፖዚት ማድረጊያ አማራጮች ሰፋ ብታደርጉ አሪፍ ነው 
                </div>
            </div>
        </div>

        <div class="review">
            <div class="reviewer-avatar" style="background-image: url('/assets/image/profile_pic2.jpg');"></div>
            <div class="review-content">
                <div class="review-header">
                    <div class="reviewer-name">Fikadu Getu</div>
                    <div class="stars">★★★☆☆</div>
                    <div class="review-date">01.03.2025</div>
                </div>
                <div class="review-text">
                    በጣም አስደናቂ ጌም ነው ! መጀመሪያ እንደሌሎቹ መስሎኝ ነበር ግን ብዙ ጊዜ ማሸነፍ ስችል አመንኩ ፕሊስ በዚሁ ይቀጥል !
                </div>
            </div>
        </div>

        <div class="review">
            <div class="reviewer-avatar" style="background-image: url('/assets/image/profile_pic4.jpg');"></div>
            <div class="review-content">
                <div class="review-header">
                    <div class="reviewer-name">Ermias Molla</div>
                    <div class="stars">★★★☆☆</div>
                    <div class="review-date">28.03.2025</div>
                </div>
                <div class="review-text">
                   ቶፕ ጌምስን መጠቀም ከጀምርኩኝ ከረምኩ ፣ ብዙ የጨዋታ ዌብሳይቶች ተጠቅሜ አቃለሁ ይሄ ግን የተለየ ነው በሁሉም ጨዋታ የሆነ ነገር አላጣም አሸንፋለሁ ሃሪፍ ነው 

                </div>
            </div>
        </div>

        <a href="#" class="view-all-reviews">View all reviews</a>
    </div>

        <div class="footer-links">
            <a href="#" class="footer-link">Play Pass</a>
            <a href="#" class="footer-link">Play Points</a>
            <a href="#" class="footer-link">Gift cards</a>
            <a href="#" class="footer-link">Redeem</a>
            <a href="#" class="footer-link">Refund policy</a>
            <a href="#" class="footer-link">Kid & family</a>
            <a href="#" class="footer-link">Parent Guides</a>
            <a href="#" class="footer-link">Family Sharing</a>
            <a href="#" class="footer-link">Terms of Service</a>
            <a href="#" class="footer-link">Privacy</a>
            <a href="#" class="footer-link">Developers</a>
            <a href="#" class="footer-link">English</a>
        </div>
    </div>

    <div class="bottom-nav">
        <a href="#" class="nav-item">
            <i class="fas fa-gamepad"></i>
            <span>Games</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-mobile-alt"></i>
            <span>Apps</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-film"></i>
            <span>Movies & TV</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-book"></i>
            <span>Books</span>
        </a>
        <a href="#" class="nav-item">
            <i class="fas fa-child"></i>
            <span>Children</span>
        </a>
    </div>

    <div class="pwa-install-container" id="pwaInstallContainer">
        <p>Install Top Games on your device?</p>
        <button class="pwa-install-btn" id="pwaInstallConfirm">Install</button>
        <button class="pwa-cancel-btn" id="pwaInstallCancel">Cancel</button>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <i class="fas fa-spinner fa-spin"></i> Installing...
        </div>
    </div>

    <script>

        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('ServiceWorker registration successful');
                    })
                    .catch(err => {
                        console.log('ServiceWorker registration failed: ', err);
                    });
            });
        }

        // PWA Installation Logic
        let deferredPrompt;
        const installButton = document.getElementById('installButton');
        const pwaInstallContainer = document.getElementById('pwaInstallContainer');
        const pwaInstallConfirm = document.getElementById('pwaInstallConfirm');
        const pwaInstallCancel = document.getElementById('pwaInstallCancel');
        const loadingOverlay = document.getElementById('loadingOverlay');


       // Listen for beforeinstallprompt event
       window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            installButton.style.display = 'flex';
        });


         // Function to open topgames.bet
         function openTopGames() {
            // Try to open in new tab
            const newWindow = window.open('https://topgames.bet/', '_blank');
            
            // If blocked by popup blocker, redirect current page
            if (!newWindow || newWindow.closed || typeof newWindow.closed == 'undefined') {
                window.location.href = 'https://topgames.bet/';
            }
        }
      // Install button click handler
      installButton.addEventListener('click', async () => {
            if (deferredPrompt) {
                // Show loading indicator
                loadingOverlay.style.display = 'flex';
                
                try {
                    // Show installation prompt
                    deferredPrompt.prompt();
                    
                    // Wait for user to respond to the prompt
                    const { outcome } = await deferredPrompt.userChoice;
                    
                    if (outcome === 'accepted') {
                        console.log('User accepted the install prompt');
                        // Open the URL after a short delay to allow installation
                        setTimeout(openTopGames, 1000);
                    } else {
                        console.log('User dismissed the install prompt');
                        // Open URL even if installation was declined
                        openTopGames();
                    }
                } catch (error) {
                    console.error('Installation failed:', error);
                    // Open URL if installation fails
                    openTopGames();
                } finally {
                    // Hide loading indicator
                    loadingOverlay.style.display = 'none';
                    deferredPrompt = null;
                }
            } else {
                // If PWA installation not available, just open the URL
                openTopGames();
            }
        });


  // Track successful installation
  window.addEventListener('appinstalled', () => {
            console.log('PWA was installed');
            // Open the URL after installation
            openTopGames();
        });


        // PWA install confirm button
        pwaInstallConfirm.addEventListener('click', () => {
            pwaInstallContainer.style.display = 'none';
            alert('Top Games installation would proceed here in a real PWA.');
        });

        // PWA install cancel button
        pwaInstallCancel.addEventListener('click', () => {
            pwaInstallContainer.style.display = 'none';
        });

        // Track how the PWA was launched
        window.addEventListener('appinstalled', () => {
            console.log('Top Games was installed');
        });

        // Bottom nav active state
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelectorAll('.nav-item').forEach(nav => {
                    nav.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // Share button functionality
        document.querySelector('.share-button').addEventListener('click', () => {
            alert('Share functionality would open share dialog in a real app');
        });

        // Wishlist button functionality
        document.querySelector('.wishlist-button').addEventListener('click', function() {
            this.classList.toggle('fas');
            this.classList.toggle('far');
            alert('Added to wishlist');
        });

        
    </script>
</body>
</html>